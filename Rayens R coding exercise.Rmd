---
title: "Emily Rayens Coding Exercise 1"
output: html_document
---

## Load the tidyverse and skimr packages.
```{r message=FALSE, warning=FALSE}
library(dslabs)
library(tidyverse)
library(skimr)
data(gapminder)

plt_colors <- rep(c("#771155", "#AA4488", "#CC99BB", "#114477", "#4477AA", "#77AADD", 
"#117777", "#44AAAA", "#77CCCC", "#117744", "#44AA77", "#88CCAA", 
"#777711", "#AAAA44", "#DDDD77", "#774411", "#AA7744", "#DDAA77", 
"#771122", "#AA4455", "#DD7788"),3)

```



## `glimpse()` and `skim() ` the `gapminder() ` object

```{r message=FALSE, warning=FALSE}
glimpse(gapminder)
skim(gapminder)
```

## Extract African countries from the  object with `filter{} ` and `select() ` the  infant_mortality, life_expectancy, population and country variables

```{r warning=FALSE}
africadata <- gapminder %>% filter(continent == "Africa") %>% select(country, population, infant_mortality, life_expectancy)
glimpse(africadata)
skim(africadata)

```
## Plot 1 : Life Expectancy by Infant Mortality Rate 

```{r warning=FALSE}

africadata %>%
  ggplot() +
  geom_point(
    aes(
      x = infant_mortality,
      y = life_expectancy,
      color = country,
      fill = country
    ),
    size = 3,
    alpha = 0.33
  ) +
  labs(
    title = " Relationship Between Infant Mortality and Life Expectancy" ,
    subtitle = "African Countries, 1960-2016",
    x =  "Infant Mortality Rate (per 1000 births)",
    y = " Life Expectancy (in years)"
  ) +
  scale_fill_manual(values = plt_colors[1:51], aesthetics = c("color", "fill")) +
  theme_minimal() +
  theme(legend.position = 'none')

```

## Plot 2: Life Expectancy by Population 
```{r echo=TRUE, message=FALSE, warning=FALSE}
africadata %>%
  ggplot() +
  geom_point(
    aes(
      x = population,
      y = life_expectancy,
      color = country,
      fill = country
    ),
    size = 3,
    alpha = 0.33
  ) +
  labs(
    title = " Relationship Between Population and Life Expectancy" ,
    subtitle = "African Countries, 1960-2016",
    x =  "Country Population",
    y = " Life Expectancy (in years)"
  ) +
  scale_fill_manual(values = plt_colors[1:51], aesthetics = c("color", "fill")) +
  scale_x_continuous(limits = c(0,20000000), breaks = seq(0, 20000000, 2000000), labels = scales::unit_format(scale = .000001, unit = "M", accuracy = .1))+ 
  theme_minimal() +
  theme(legend.position = 'none')
```

### Plot 3: Filter Africa data to year 2000 and plot Life Expectancy by Infant Mortality Rate  with model fit line
```{r warning=FALSE}
africa2000 <- gapminder %>% filter(continent == "Africa" & year == 2000) %>% select(country, population, infant_mortality, life_expectancy)


africa2000 %>% 
  ggplot() +
  geom_point(
    aes(
      x = infant_mortality,
      y = life_expectancy,
      color = country,
      fill = country
      ),
    shape = 21,
    size = 6,
    alpha = 0.65
  ) +
    geom_smooth(
    aes(x = infant_mortality, y = life_expectancy),
    method = lm,
    se = FALSE,
    fullrange = TRUE,
    level = 0.95
  ) +labs(
    title = " Relationship Between Infant Mortality and Life Expectancy" ,
    subtitle = "African Countries, 2000",
    x =  "Infant Mortality Rate (per 1000 births)",
    y = " Life Expectancy (in years)"
  ) +
  scale_fill_manual(values = plt_colors[1:51], aesthetics = c("color", "fill")) +
  theme_minimal() +
  theme(legend.position = 'none')
```

